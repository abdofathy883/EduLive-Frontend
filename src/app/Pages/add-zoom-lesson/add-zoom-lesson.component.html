<section>
  @if (!status) {
  <button class="btn btn-primary mt-3" (click)="connectZoomAccount()">
    ربط حسابك ب Zoom
  </button>
  } @if (status) {
  <h2>اضافة حصة جديدة عن طريق Zoom</h2>

  @if (Courses.length === 0) {
  <div class="alert alert-warning" role="alert">
    لا توجد دورات تعليمية متاحة. يرجى إضافة دورة قبل إضافة حصة.
  </div>
  }
  <form action="" class="mt-3" (Submit)="onSubmit()">
    <div class="row mb-3">
      <div class="col">
        <label for="" class="form-label">الدورة التعليمية</label>
        <select name="" id="" class="form-select">
          <option selected disabled>اختر الدورة</option>
          @for (course of Courses; track $index) {
          <option value="{{ course.id }}">{{ course.title }}</option>
          }
        </select>
      </div>
      <div class="col">
        <label for="topic" class="form-label">عنوان الحصة</label>
        <input type="text" class="form-control" id="topic" />
      </div>
    </div>



    <div class="row mb-3">
      <div class="col">
        <label for="duration" class="form-label">المدة</label>
        <input type="number" class="form-control" id="duration" />
      </div>
      <div class="col">
        <label for="startTime" class="form-label">وقت البدء</label>
        <input type="datetime-local" class="form-control" id="startTime" />
      </div>
      <div class="col">
        <label for="studentId" class="form-label">الطالب</label>
        <select id="studentId" class="form-select">
          <option selected disabled>اختر الطالب</option>
          @for (student of students; track $index) {
          <option value="{{ student.id }}">{{ student.name }}</option>
          }
        </select>
      </div>
    </div>

    <div class="row">
      <label for="description" class="form-label">وصف الحصة
        <textarea class="form-control mt-2" id="description" rows="3"></textarea></label>
    </div>

    <button class="btn btn-primary" (click)="onSubmit()">
      @if (loading) {
      <span
        class="spinner-border spinner-border-sm"
        role="status"
        aria-hidden="true"
        >جار الاضافة...</span
      >
      } @else {
      <span>اضافة حصة</span>
      }
    </button>
  </form>
  }
</section>
